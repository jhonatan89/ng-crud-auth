
<div>
    <div class="col-md-5 col-md-offset-4">
        <div class="panel panel-default">
            <alert ng-repeat="alert in alerts" type="{{alert.type}}" close="authCtrl.closeAlert($index)">{{alert.msg}}</alert>
            <div class="panel-heading">
                <h3 class="panel-title">Please Register</h3>
            </div>
            <div class="panel-body">
                <alert ng-messages="loginform.$error" type="danger" close="" ng-hide="!loginform.$error.required && !loginform.$error.minlength && !loginform.email.$invalid ">
                    <div ng-message="required">
                      Please, Fill the required fields!
                    </div>
                    <div ng-message="minlength">
                        Your password must be 6 and 10 characters long!
                    </div>
                    <div ng-message="email">
                        Your email address is invalid!
                    </div>
                </alert>
                <form novalidate name="loginform" accept-charset="UTF-8" role="form" ng-submit="loginform.$valid && authCtrl.register(user)">
                    <fieldset>
                    <div class="form-group" ng-class="{'has-success': loginform.username.$valid && loginform.name.$dirty, 'has-error': loginform.name.$invalid && loginform.$submitted }">
                        <input class="form-control" required ng-model="user.userName" placeholder="Username" name="username" type="text">
                    </div>
                    <div class="form-group" ng-class="{'has-success': loginform.password.$valid && loginform.password.$dirty, 'has-error': loginform.password.$invalid && loginform.$submitted }">
                        <input class="form-control" minlength="6" required ng-model="user.password" placeholder="Password" name="password" type="password" >
                    </div>
                    <div class="form-group" ng-class="{'has-success': loginform.confirmpassword.$valid && loginform.confirmpassword.$dirty, 'has-error': loginform.confirmpassword.$invalid && loginform.$submitted }">
                        <input class="form-control" minlength="6" required ng-model="user.confirmPassword" placeholder="Confirm Password" name="confirmpassword" type="password" >
                    </div>
                    <div class="row">
                        <div class="form-group col-xs-6" ng-class="{'has-success': loginform.firstname.$valid && loginform.firstname.$dirty, 'has-error': loginform.firstname.$invalid && loginform.$submitted }">
                            <input class="form-control" align="left" required ng-model="user.givenName" placeholder="First name" name="firstname" type="text" >
                        </div>
                        <div class="form-group col-xs-6" ng-class="{'has-success': loginform.middlename.$valid && loginform.middlename.$dirty, 'has-error': loginform.middlename.$invalid && loginform.$submitted }">
                            <input class="form-control" align="right" ng-model="user.middleName" placeholder="Middle name" name="middlename" type="text" >
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-success': loginform.lastname.$valid && loginform.lastname.$dirty, 'has-error': loginform.lastname.$invalid && loginform.$submitted }">
                        <input class="form-control" required ng-model="user.surName" placeholder="Last Name" name="lastname" type="text" >
                    </div>
                    <div class="form-group">
                        <label> Please select your roles: </label><br>
                        <!--<select class="form-control" ng-options="rol as value.label for value in roles" name="SelectRole" ng-model="user.role" required></select>-->
                        <div class="row">
                            <div class="col-xs-6" ng-repeat="(key,value) in roles">
                                <p><strong> {{key}} </strong></p><input type="checkbox" name="roles" checklist-model="user.roles" checklist-value="key">
                            </div>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-success': loginform.email.$valid && loginform.email.$dirty, 'has-error': loginform.email.$invalid && loginform.$submitted }">
                        <input class="form-control" required ng-model="user.email" placeholder="email" name="email" type="email" >
                    </div>
                    </fieldset>
                        <input class="btn btn-lg btn-primary btn-block" type="submit" value="Register">
                        <input class="btn btn-lg btn-default btn-block" ng-click="authCtrl.goBack()" type="submit" value="Go Back">
                </form>
                <div class="spinner text-center" ng-show="loading">
                    <img src="http://www.lectulandia.com/wp-content/themes/ubook/images/spinner.gif" alt="Loading" style="width:48px;height:48px;">
                </div>
            </div>
        </div>
    </div>
</div>
