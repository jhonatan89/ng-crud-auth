/*! ng-crud-auth 2015-08-05 */
!function(a){var b=a.module("authModule",["restangular","ngCookies"]);b.constant("defaultStatus",{status:!1}),b.config(["RestangularProvider",function(a){a.setBaseUrl("webresources")}])}(window.angular),function(a){var b=a.module("authModule");b.provider("auth",function(){this.values={apiUrl:"users",successPath:"/product",loginPath:"/login",registerPath:"/register"},this.$get=["Restangular","$cookies",function(a,b){var c=this,d=this.values;return this.api=a.all(d.apiUrl),{login:function(a){return c.api.customPOST(a,"login")},getConf:function(){return d},logout:function(){return c.api.customGET("logout")},register:function(a){return c.api.customPOST(a,"register")},getCurrentUser:function(){var a=b.getObject("user");return a?{id:a.id,name:a.userName}:null}}}],this.setValues=function(a){this.values=a},this.getValues=function(){return this.values}})}(window.angular),function(a){var b=a.module("authModule");b.controller("authController",["$scope","$cookies","$location","auth","defaultStatus",function(a,b,c,d,e){var f=this;this.errorctrl=e,this.valuesConf=d.getConf(),this.login=function(a){a&&a.password&&d.login(a).then(function(a){var d={userName:a.name,id:a.id};b.putObject("user",d),c.path(f.valuesConf.successPath)},function(a){f.errorctrl={status:!0,type:"danger",msg:a.data}})},this.close=function(){f.errorctrl=e},this.registration=function(){c.path(f.valuesConf.registerPath)},this.register=function(a){a.password!==a.confirmPassword?f.errorctrl={status:!0,type:"warning",msg:": Passwords must be equals"}:d.register(a).then(function(){c.path(f.valuesConf.loginPath)},function(a){f.errorctrl={status:!0,type:"danger",msg:":"+a.data}})},this.goBack=function(){c.path(f.valuesConf.loginPath)}}])}(window.angular),angular.module("authModule").run(["$templateCache",function(a){"use strict";a.put("src/templates/login.html",'<!DOCTYPE html>\r\n<!--\r\nTo change this license header, choose License Headers in Project Properties.\r\nTo change this template file, choose Tools | Templates\r\nand open the template in the editor.\r\n-->\r\n<div class="row">\r\n    <style>div{padding-top:10px;}</style>\r\n    <div class="col-md-5 col-md-offset-4">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading">\r\n                <h3 class="panel-title">Please Login</h3>\r\n                <div class="col-md-12" ng-show="authCtrl.errorctrl.status" ng-message="show">\r\n                    <div   class="alert alert-{{authCtrl.errorctrl.type}}" role="alert">\r\n                        <button type="button" class="close" ng-click="authCtrl.close()" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n                        <strong>{{authCtrl.errorctrl.type| uppercase}}</strong> {{authCtrl.errorctrl.msg}}\r\n                    </div>\r\n                </div>\r\n            </div>         \r\n            <div class="panel-body">\r\n                <form name="loginform" accept-charset="UTF-8" role="form">\r\n                        <div class="form-group">\r\n                            <input class="form-control" required ng-model="user.userName" placeholder="Username or Email" name="username" type="text">\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <input class="form-control" required ng-model="user.password" placeholder="Password" name="password" type="password" >\r\n                        </div>\r\n                        <div class="checkbox">\r\n                            <label>\r\n                                <input  name="rememberMe" type="checkbox" ng-model="user.rememberMe" value="false"> Remember Me\r\n                            </label>\r\n                        </div>\r\n                        <input class="btn btn-lg btn-success btn-block" ng-click="authCtrl.login(user)" type="submit" value="Login">\r\n                </form>\r\n                <button class="btn btn-lg btn-default btn-block" ng-click="authCtrl.registration()">Register</button>  \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'),a.put("src/templates/register.html",'\r\n\r\n\r\n<div class="row">\r\n    <style>div{padding-top:10px;}</style>\r\n    <div class="col-md-5 col-md-offset-4">\r\n        <div class="panel panel-default">\r\n            <div class="panel-heading">\r\n                <h3 class="panel-title">Please Register</h3>\r\n                <div class="col-md-12" ng-show="authCtrl.errorctrl.status" ng-message="show">\r\n                    <div   class="alert alert-{{authCtrl.errorctrl.type}}" role="alert">\r\n                        <button type="button" class="close" ng-click="authCtrl.close()" aria-label="Close"><span aria-hidden="true">&times;</span></button>\r\n                        <strong>{{authCtrl.errorctrl.type| uppercase}}</strong> {{authCtrl.errorctrl.msg}}\r\n                    </div>\r\n                </div>\r\n            </div>         \r\n            <div class="panel-body">\r\n                <form name="loginform" accept-charset="UTF-8" role="form">\r\n                    <div class="form-group">\r\n                        <input class="form-control" required ng-model="user.userName" placeholder="Username" name="username" type="text">\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <input class="form-control" required ng-model="user.password" placeholder="Password" name="password" type="password" >\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <input class="form-control" required ng-model="user.confirmPassword" placeholder="Confirm Password" name="confirmpassword" type="password" >\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <input class="form-control" required ng-model="user.name" placeholder="Name" name="name" type="text" >\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <input class="form-control" required ng-model="user.lastName" placeholder="LastName" name="lastname" type="text" >\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <input class="form-control" required ng-model="user.email" placeholder="email" name="email" type="email" >\r\n                    </div>\r\n                    <input class="btn btn-lg btn-primary btn-block" ng-click="authCtrl.register(user)" type="submit" value="Register">\r\n                    <input class="btn btn-lg btn-default btn-block" ng-click="authCtrl.goBack()" type="submit" value="Go Back">\r\n                </form>  \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n')}]);